@using BloomPrototype.GameTypes.Soils;

<span class="@SoilCss">
	<span class="@ContentsCss"/>

	@if (HasPlayer)
	{
		<span class="player"></span>
	}
</span>

@code {
	[Parameter]
	public Soil Soil { get; set; }

	[Parameter]
	public bool HasPlayer { get; set; }

	private string SoilCss = "";
	private string ContentsCss = "";

	protected override void OnInitialized()
	{
		SoilCss = "soil ";

		SetSoilCharacteristicsCss();
		SetContentsCss();

		SoilCss = SoilCss.Trim();

		base.OnInitialized();
	}

	private void SetSoilCharacteristicsCss()
	{
		SoilCss += $"{Soil.Fertility.ToString().ToLower()} ";
		// SoilCss += $"{Soil.WaterLevel.ToString().ToLower()} ";
		// SoilCss += $"{Soil.Retention.ToString().ToLower()} ";
	}

	private void SetContentsCss()
	{
		if (Soil.GrowingPlant != null)
		{
			ContentsCss += "plant ";
			ContentsCss += $"{Soil.GrowingPlant.GetType().Name.ToLower()} ";
		}

		//if (Soil.GrowingSeed != null)
		//	ContentsCss += $"{Soil.GrowingSeed.GetType().Name.ToLower()} ";
	}
}
